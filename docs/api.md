<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [L.tileLayer.offline][1]
    -   [Parameters][2]
-   [L.control.savetiles][3]
    -   [Parameters][4]
    -   [Properties][5]
-   [TileManager][6]
    -   [tileInfo][7]
        -   [Properties][8]
    -   [getStorageLength][9]
    -   [getStorageInfo][10]
    -   [downloadTile][11]
        -   [Parameters][12]
    -   [saveTile][13]
        -   [Parameters][14]
    -   [getTileUrl][15]
        -   [Parameters][16]
    -   [getTileUrls][17]
        -   [Parameters][18]
    -   [getStoredTilesAsJson][19]
        -   [Parameters][20]
    -   [removeTile][21]
        -   [Parameters][22]
    -   [truncate][23]
-   [Types][24]
    -   [ControlSaveTiles][25]
        -   [Properties][26]
        -   [setLayer][27]
            -   [Parameters][28]
        -   [setOption][29]
            -   [Parameters][30]
    -   [ControlStatus][31]
        -   [Properties][32]
    -   [TileLayerOffline][33]
        -   [getSimultaneous][34]

## L.tileLayer.offline

### Parameters

-   `url` **[string][35]** [description]
-   `options` **[object][36]** [http://leafletjs.com/reference-1.2.0.html#tilelayer][37]

Returns **[TileLayerOffline][38]** an instance of TileLayerOffline

## L.control.savetiles

### Parameters

-   `baseLayer` **[object][36]** [http://leafletjs.com/reference-1.2.0.html#tilelayer][37]

### Properties

-   `options` **[Object][36]** 
    -   `options.position` **[string][35]?** default topleft
    -   `options.saveText` **[string][35]?** html for save button, default +
    -   `options.rmText` **[string][35]?** html for remove button, deflault -
    -   `options.maxZoom` **[number][39]?** maximum zoom level that will be reached
        when saving tiles with saveWhatYouSee. Default 19
    -   `options.saveWhatYouSee` **[boolean][40]?** save the tiles that you see
        on screen plus deeper zooms, ignores zoomLevels options. Default false
    -   `options.confirm` **[function][41]?** function called before confirm, default null.
        Args of function are ControlStatus and callback.
    -   `options.confirmRemoval` **[function][41]?** function called before confirm, default null

Returns **[ControlSaveTiles][42]** 

## TileManager

Manages the storage. Only needed for advanced usage. Methods are available as import. When you include the script directly into your page , they are methods of the LeafletOffline global.


### tileInfo

Type: [Object][36]

#### Properties

-   `key` **[string][35]** storage key
-   `url` **[string][35]** resolved url
-   `urlTemplate` **[string][35]** orig url, used to find tiles per layer
-   `x` **[string][35]** left point of tile
-   `y` **[string][35]** top point coord of tile
-   `z` **[string][35]** tile zoomlevel

### getStorageLength

Returns **[Promise][43]&lt;[Number][39]>** which resolves to int

### getStorageInfo

Tip: you can filter the result (eg to get tiles from one resource)

Returns **[Promise][43]&lt;[Array][44]&lt;[tileInfo][45]>>** 

### downloadTile

#### Parameters

-   `tileUrl` **[string][35]** 

Returns **[Promise][43]&lt;[blob][46]>** 

### saveTile

#### Parameters

-   `tileInfo`  
-   `blob` **[blob][46]** 

Returns **[Promise][43]** 

### getTileUrl

#### Parameters

-   `urlTemplate` **[string][35]** 
-   `data` **[object][36]** x, y, z, s
    -   `data.s` **[string][35]** subdomain

Returns **[string][35]** 

### getTileUrls

#### Parameters

-   `layer` **[object][36]** leaflet tilelayer
-   `bounds` **[object][36]** 
-   `zoom` **[number][39]** zoomlevel 0-19

Returns **[Array][44]&lt;[tileInfo][45]>** 

### getStoredTilesAsJson

Get a geojson of tiles from one resource
TODO, per zoomlevel?

#### Parameters

-   `layer` **[object][36]** 

Returns **[object][36]** geojson

### removeTile

Remove tile by key

#### Parameters

-   `key` **[string][35]** 

Returns **[Promise][43]** 

### truncate

Remove everything

Returns **[Promise][43]** 

## Types

The leaflet classes use the following types.


### ControlSaveTiles

Shows control on map to save tiles

#### Properties

-   `status` **[ControlStatus][47]** 

#### setLayer

Change baseLayer

##### Parameters

-   `layer` **[TileLayerOffline][38]** 

#### setOption

Update a config option

##### Parameters

-   `name` **[string][35]** 
-   `value` **mixed** 

### ControlStatus

Status of ControlSaveTiles, keeps info about process during downloading
ans saving tiles. Used internal and as object for events.

Type: [Object][36]

#### Properties

-   `storagesize` **[number][39]** total number of saved tiles.
-   `lengthToBeSaved` **[number][39]** number of tiles that will be saved in db
    during current process
-   `lengthSaved` **[number][39]** number of tiles saved during current process
-   `lengthLoaded` **[number][39]** number of tiles loaded during current process
-   `_tilesforSave` **[array][44]** tiles waiting for processing

### TileLayerOffline

A layer that uses store tiles when available. Falls back to online.
Use this layer directly or extend it

#### getSimultaneous

Returns **[number][39]** Number of simultanous downloads from tile server

[1]: #ltilelayeroffline

[2]: #parameters

[3]: #lcontrolsavetiles

[4]: #parameters-1

[5]: #properties

[6]: #tilemanager

[7]: #tileinfo

[8]: #properties-1

[9]: #getstoragelength

[10]: #getstorageinfo

[11]: #downloadtile

[12]: #parameters-2

[13]: #savetile

[14]: #parameters-3

[15]: #gettileurl

[16]: #parameters-4

[17]: #gettileurls

[18]: #parameters-5

[19]: #getstoredtilesasjson

[20]: #parameters-6

[21]: #removetile

[22]: #parameters-7

[23]: #truncate

[24]: #types

[25]: #controlsavetiles

[26]: #properties-2

[27]: #setlayer

[28]: #parameters-8

[29]: #setoption

[30]: #parameters-9

[31]: #controlstatus

[32]: #properties-3

[33]: #tilelayeroffline

[34]: #getsimultaneous

[35]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[36]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[37]: http://leafletjs.com/reference-1.2.0.html#tilelayer

[38]: #tilelayeroffline

[39]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[40]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[41]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[42]: #controlsavetiles

[43]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[44]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[45]: #tileinfo

[46]: https://developer.mozilla.org/docs/Web/API/Blob

[47]: #controlstatus
